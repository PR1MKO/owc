{% extends "base.html" %}
{% import 'includes/macros.html' as macros %}

{% block title %}Contact Us – Online Wine Club{% endblock %}

{% block content %}
{% call macros.content_box() %}
<h2>Contact Us</h2>

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <ul class="flashes">
      {% for category, message in messages %}
        <li class="{{ category }}">{{ message }}</li>
      {% endfor %}
    </ul>
  {% endif %}
{% endwith %}

{% call macros.content_box_inner_100() %}
<form method="post" action="/contact" class="contact-form">
    <!-- 🆔 Form identifier -->
    <input type="hidden" name="form_id" value="Contact Form">

    <label for="name">Name:</label><br>
    <input type="text" id="name" name="name" required value="{{ form.name | default('') }}"><br><br>

    <label for="email">Email:</label><br>
    <input type="email" id="email" name="email" required value="{{ form.email | default('') }}"><br><br>

    <label for="message">Message:</label><br>
    <textarea id="message" name="message" rows="6" required>{{ form.message | default('') }}</textarea><br><br>

    <!-- 🛡️ Honeypot field -->
    <div style="display: none;">
        <label for="company">Company (leave empty):</label>
        <input type="text" id="company" name="company">
    </div>

    <button type="submit">Send</button>
</form>
{% endcall %}
{% endcall %}
{% endblock %}
